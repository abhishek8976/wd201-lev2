<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <title></title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>

    <body>
    <div class="container">
        <div class="header">
            <h2>REGISTRATION FORM</h2>
        </div>
        <form class="form" id="form">
            <div class="form-control">
                <label>UserName</label>
                <input type="text" name="" id="username" placeholder="Enter your full name" autocomplete="off">
                <i class="fa-sharp fa-solid fa-circle-check"></i>
                <i class="fa-solid fa-circle-exclamation"></i>
                <small>Error Msg</small>  
            </div>
            <br><br>
            <div class="form-control">
                <label>Email</label>
                <input type="email" name="" id="email" placeholder="Enter your Email" autocomplete="off">
                <i class="fa-sharp fa-solid fa-circle-check"></i>
                <i class="fa-solid fa-circle-exclamation"></i>
                <small>Error Msg</small>  
            </div>
            <br><br>
            <div class="form-control">
                <label>Mobile Number</label>
                <input type="number" name="" id="number" placeholder="Enter your Mobile Number" autocomplete="off">
                <i class="fa-sharp fa-solid fa-circle-check"></i>
                <i class="fa-solid fa-circle-exclamation"></i>
                <small>Error Msg</small>  
            </div>
            <br><br>
            <div class="form-control">
                <label>Age</label>
                <input type="number" name="" id="anumber" placeholder="Enter your Age" autocomplete="off">
                <i class="fa-sharp fa-solid fa-circle-check"></i>
                <i class="fa-solid fa-circle-exclamation"></i>
                <small>Error Msg</small>  
            </div>
            <br><br>
            <div class="form-control">
                <label>Password</label>
                <input type="password" name="" id="password" placeholder="Enter your password" autocomplete="off">
                <i class="fa-sharp fa-solid fa-circle-check"></i>
                <i class="fa-solid fa-circle-exclamation"></i>
                <small>Error Msg</small>  
            </div>
            <br><br>
            <div class="form-control">
                <label>Confirm Password</label>
                <input type="password" name="" id="cpassword" placeholder="Enter your password again" autocomplete="off">
                <i class="fa-sharp fa-solid fa-circle-check"></i>
                <i class="fa-solid fa-circle-exclamation"></i>
                <small>Error Msg</small>  
            </div>
            <input type="submit" value="Submit" class="btn" name="">
        </form>
    </div>

    <script type="text/javascript">
        const form = document.getElementById('form');
        const username = document.getElementById('username');
        const email = document.getElementById('email');
        const number = document.getElementById('number');
        const anumber = document.getElementById('anumber');
        const password = document.getElementById('password');
        const cpassword = document.getElementById('cpassword');

    // add event
    form.addEventListener('submit', (event) =>{
        event.preventDefault();
        validate();
    })

    // more email validate
    const isEmail = (emailVal)  => {
        var atSymbol = email.indexOf("@");
        if(atSymbol < 1) return false;
        var dot = emailVal.lastIndexOf('.');
        if(dot <= atSymbol + 2) return false;
        if(dot=== emailVal.length - 1) return false;
        return true;
    }

    // define the validate function

    const validate = () => {
        const usernameVal = username.value.trim();
        const emailVal = email.value.trim();
        const numberVal = number.value.trim();
        const anumberVal = anumber.value.trim();
        const passwordVal = password.value.trim();
        const cpasswordVal = cpassword.value.trim();

        // validate username
        if(usernameVal===""){
            setErrorMsg(username, 'username can not be blank');
        }else if(usernameVal.length <=2){
            setErrorMsg(username, 'username minimum 3 character');

        }else{
            setSuccessMsg(username);
        }

        // validate email
        if(emailVal===""){
            setErrorMsg(email, 'email can not be blank');
        }else if(!isEmail(emailVal)){
            setErrorMsg(email, 'Not a valid email');

        }else{
            setSuccessMsg(email);
        }

        // validate mobile number
        if(numberVal===""){
            setErrorMsg(number, 'number can not be blank');
        }else if(numberVal.length <! 10){
            setErrorMsg(number, 'Not a valid number');

        }else{
            setSuccessMsg(number);
        }

        // validate age
        if(anumberVal===""){
            setErrorMsg(anumber, 'age can not be blank');
        }else if(anumberVal.length <! 2){
            setErrorMsg(anumber, 'Not a valid age');

        }else{
            setSuccessMsg(anumber);
        }

        // validate password
        if(passwordVal===""){
            setErrorMsg(password, 'password can not be blank');
        }else if(passwordVal.length <= 8){
            setErrorMsg(password, 'Not a valid password');

        }else{
            setSuccessMsg(password);
        }

        // validate cpassword
        if(cpasswordVal===""){
            setErrorMsg(cpassword, 'cpassword can not be blank');
        }else if(passwordVal <! cpasswordVal){
            setErrorMsg(cpassword, 'password is not matching');

        }else{
            setSuccessMsg(cpassword);
        }
    }
    function setErrorMsg(input,errormags) {
        const formcontrol = input.parentElement;
        const small = formcontrol.querySelector('small');
        formcontrol.className = "form-control error";
        small.innerText = errormags;
    }
    function setSuccessMsg(input){
        const formcontrol = input.parentElement;
        formcontrol.className = "form-control success";
    }


    </script>
    </body>
</html>